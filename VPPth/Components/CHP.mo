within VPPth.Components;

model CHP "Combined Heat and Power"
  extends Interfaces.CHP;
  annotation(
    Icon(graphics={  Text(fillColor = {255, 255, 255}, fillPattern = FillPattern.Solid, extent = {{-120, -110}, {120, -150}}, textString = "%name"), Line(points = {{-80, 8}, {-80, -52}, {68, -52}, {68, 34}}, color = {0, 0, 0}), Line(points = {{-80, 8}, {-40, 34}, {-40, 8}}, color = {0, 0, 0}), Line(points = {{-40, 8}, {-4, 34}, {-4, 8}}, color = {0, 0, 0}), Line(points = {{-4, 8}, {32, 34}, {32, 8}}, color = {0, 0, 0}), Line(points = {{32, 8}, {68, 34}, {68, 8}}, color = {0, 0, 0}), Line(points = {{10, 18}, {22, 96}, {42, 96}, {54, 24}}, color = {0, 0, 0}), Line(points = {{-58, -16}, {-58, -26}}, color = {0, 0, 0}), Line(points = {{-40, -16}, {-40, -26}}, color = {0, 0, 0}), Line(points = {{-4, -16}, {-4, -26}}, color = {0, 0, 0}), Line(points = {{-22, -16}, {-22, -26}}, color = {0, 0, 0}), Line(points = {{50, -16}, {50, -26}}, color = {0, 0, 0}), Line(points = {{32, -16}, {32, -26}}, color = {0, 0, 0}), Line(points = {{14, -16}, {14, -26}}, color = {0, 0, 0}), Ellipse(extent = {{80, -34}, {26, -86}}, lineColor = {0, 0, 0},
            fillColor = {255, 255, 255},
            fillPattern = FillPattern.Solid), Ellipse(extent = {{40, -34}, {-14, -86}}, lineColor = {0, 0, 0},
            fillColor = {255, 255, 255},
            fillPattern = FillPattern.Solid), Ellipse(extent = {{80, -34}, {26, -86}}, lineColor = {0, 0, 0}),
            Line(points = {{30, -50}, {38, -54}}, color = {0, 0, 0}), Line(points = {{26, -62}, {38, -68}}, color = {0, 0, 0}), Line(points = {{28, -70}, {36, -74}}, color = {0, 0, 0}), Line(points = {{28, -56}, {40, -62}}, color = {0, 0, 0}), Polygon(points = {{56, -46}, {48, -62}, {54, -62}, {46, -78}, {64, -56}, {56, -56}, {64, -46}, {56, -46}}, lineColor = {0, 0, 0},
            fillColor = {0, 0, 0},
            fillPattern = FillPattern.Solid), Polygon(points = {{4, -56}, {0, -64}, {6, -72}, {16, -72}, {22, -60}, {16, -54}, {14, -52}, {12, -50}, {12, -48}, {10, -50}, {8, -52}, {6, -56}, {8, -58}, {8, -60}, {8, -62}, {6, -62}, {4, -58}, {4, -56}}, lineColor = {0, 0, 0},
            smooth = Smooth.Bezier, fillColor = {0, 0, 0},
            fillPattern = FillPattern.Solid), Polygon(points = {{8, -64}, {6, -66}, {8, -68}, {8, -68}, {12, -70}, {16, -68}, {18, -64}, {18, -60}, {16, -58}, {14, -56}, {12, -60}, {6, -66}, {10, -62}, {8, -64}}, lineColor = {0, 0, 0},
            smooth = Smooth.Bezier, fillColor = {255, 255, 255},
            fillPattern = FillPattern.Solid)}, coordinateSystem(extent = {{-100, -100}, {100, 110}}, initialScale = 0.1)),
    Diagram(coordinateSystem(extent = {{-100, -100}, {100, 110}})),
  Documentation(info = "<html><head></head><body><div><font size=\"5\"><b><br></b></font></div><div><font size=\"5\"><b>Combined Heat and Power (CHP)</b></font></div><div><font size=\"4\"><br></font></div><div><font size=\"4\">The combined heat and power component (CHP) contributes both heat and power simultaneously to the respective system. The relation of this two particular types of energy is dynamically optimized under consideration of current fuel and electricity prices. However, the thermal demand has priority and has to be fulfilled at any time.</font></div><div><font size=\"4\"><br></font></div><div><font size=\"4\">The CHP unit consists of a gas boiler and a steam condenser. The gas boiler is the backup for the CHP and can fully generate the required heat. By consuming gas in order to generate certain amounts of heat and power the incurring costs are considered. The steam condenser is able to consume any overproduced heat in the system.</font></div><div><font size=\"4\"><br></font></div><div><font size=\"4\">The CHP interfaces extends the generator interface by a thermal part. The optimizer monitors the alarms and, if a signal is detected, the unit will not be considered for the heat and electrical balance. The output from the model is the start/stop command for the WISAG controller. If there is no output at all (CHP turned off) the heat demand will be supplied entirely by the gas boiler and any possible thermal storage.</font></div></body></html>"));
end CHP;
